!function(){"use strict";function t(t){var n=a(c(t),i);return r(n[1])}function r(t){for(var r=t.split(o),n=[],i=r.length;i--;)r[i].replace(e,function(t,r,e){n[i]=e});return n}function n(t,r){this.path=[],this.cache=r||{},this.pending=t}var e=/^\s*(_?)(\S+?)\1\s*$/,i=/^[^\(]*\(\s*([^\)]*)\)/m,o=/,/,c=function(t){return t.toString()},a=function(t,r){return t.match(r)};n.extractArgs=r,n.extractDeps=t,n.annotate=function(t){return this.extractDeps(t).concat(t)};var h={},s="injector";n.prototype={get:function(t){if(t==s)return this;var r=this.path,n=this.cache,e=this.pending;if(n.hasOwnProperty(t)){if(n[t]===h)throw new Error("Circular dependency found: "+t+" <- "+r.join(" <- "));return n[t]}if(!e.hasOwnProperty(t))throw new Error('Service "'+t+'" not found');try{return r.unshift(t),n[t]=h,n[t]=this.invoke(e[t])}catch(i){throw n[t]===h&&delete n[t],i}finally{r.shift()}},invoke:function(r){var n,e;if(Array.isArray(r)){if(n=r,"function"!=typeof(r=r.pop()))throw new Error("The last item of the array must be the service factory")}else n=Array.isArray(r.$inject)?r.$inject:t(r);for(e=n.length;e--;)n[e]=this.get(n[e]);return r.apply(null,n)}}}();